# æ£€æŸ¥åˆ é™¤åŠŸèƒ½é—®é¢˜

## ğŸ” 1. æ£€æŸ¥åˆ é™¤å‡½æ•°ä»£ç æ˜¯å¦æ­£ç¡®
```bash
cd /var/www/activities_management/backend/controllers
grep -A 15 "exports.deleteGift" giftController.js
```

åº”è¯¥çœ‹åˆ° `FROM gift_items` è€Œä¸æ˜¯ `FROM gifts`

## ğŸ” 2. æŸ¥çœ‹æœ€æ–°é”™è¯¯æ—¥å¿—
```bash
pm2 logs activities-backend --err --lines 30
```

## ğŸ” 3. æ£€æŸ¥æ‰€æœ‰ä½¿ç”¨ gifts è¡¨çš„åœ°æ–¹
```bash
cd /var/www/activities_management/backend/controllers
grep -n "FROM gifts\|UPDATE gifts\|INSERT INTO gifts" giftController.js
```

å¦‚æœè¿˜æœ‰è¾“å‡ºï¼Œè¯´æ˜ä»£ç è¿˜æ²¡å®Œå…¨æ›´æ–°

## ğŸ” 4. å¼ºåˆ¶ä» Git æ‹‰å–æœ€æ–°ä»£ç 
```bash
cd /var/www/activities_management
git fetch origin
git log --oneline -5
git reset --hard origin/main
cd backend/controllers
grep -A 5 "exports.deleteGift" giftController.js | head -10
pm2 restart all --update-env
```

## ğŸ” 5. æµ‹è¯•åˆ é™¤åŠŸèƒ½ï¼ˆéœ€è¦ç®¡ç†å‘˜ tokenï¼‰
```bash
# å…ˆè·å–ä¸€ä¸ªæœ‰æ•ˆçš„ç®¡ç†å‘˜ tokenï¼Œç„¶åæµ‹è¯•
curl -X DELETE http://localhost:3000/api/gifts/12 \
  -H "Authorization: Bearer YOUR_ADMIN_TOKEN" \
  -H "Content-Type: application/json"
```

