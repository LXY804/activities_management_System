# æœåŠ¡å™¨ç›´æ¥ä¿®å¤å‘½ä»¤

## ğŸ” ç¬¬ä¸€æ­¥ï¼šæ£€æŸ¥åç«¯æœåŠ¡çŠ¶æ€ï¼ˆ502 é”™è¯¯ï¼‰

```bash
# æ£€æŸ¥ PM2 è¿›ç¨‹
pm2 status

# æŸ¥çœ‹åç«¯æ—¥å¿—
pm2 logs activities-backend --lines 50

# æ£€æŸ¥åç«¯æ˜¯å¦æ­£å¸¸è¿è¡Œ
curl http://localhost:3000/api/health
```

## ğŸ”§ ç¬¬äºŒæ­¥ï¼šä¿®å¤å‰ç«¯è¶…æ—¶è®¾ç½®

### æ–¹æ³• 1ï¼šç›´æ¥ç¼–è¾‘æ–‡ä»¶ï¼ˆæ¨èï¼‰

```bash
cd /var/www/activities_management/æ ¡å›­æ´»åŠ¨ç®¡ç†ç³»ç»Ÿ

# å¤‡ä»½åŸæ–‡ä»¶
cp src/api/request.js src/api/request.js.bak

# ç¼–è¾‘æ–‡ä»¶
nano src/api/request.js
```

æ‰¾åˆ°è¿™ä¸€è¡Œï¼š
```javascript
timeout: 10000
```

æ”¹ä¸ºï¼š
```javascript
timeout: 60000
```

ä¿å­˜ï¼ˆCtrl+O, Enter, Ctrl+Xï¼‰

### æ–¹æ³• 2ï¼šä½¿ç”¨ sed å‘½ä»¤ç›´æ¥æ›¿æ¢

```bash
cd /var/www/activities_management/æ ¡å›­æ´»åŠ¨ç®¡ç†ç³»ç»Ÿ
sed -i 's/timeout: 10000/timeout: 60000/g' src/api/request.js
```

## ğŸ”§ ç¬¬ä¸‰æ­¥ï¼šä¿®å¤ ChatFloat.vue ä¸­çš„è¶…æ—¶è®¾ç½®

```bash
cd /var/www/activities_management/æ ¡å›­æ´»åŠ¨ç®¡ç†ç³»ç»Ÿ

# æ£€æŸ¥æ–‡ä»¶
grep -n "timeout" src/components/ChatFloat.vue

# å¦‚æœçœ‹åˆ° timeout: 10000ï¼Œéœ€è¦ä¿®æ”¹
# ç¼–è¾‘æ–‡ä»¶
nano src/components/ChatFloat.vue
```

æ‰¾åˆ°ï¼š
```javascript
timeout: 10000
```

æ”¹ä¸ºï¼š
```javascript
timeout: 60000
```

æˆ–è€…ä½¿ç”¨ sedï¼š
```bash
sed -i 's/timeout: 10000/timeout: 60000/g' src/components/ChatFloat.vue
```

## ğŸš€ ç¬¬å››æ­¥ï¼šé‡æ–°æ„å»ºå‰ç«¯

```bash
cd /var/www/activities_management/æ ¡å›­æ´»åŠ¨ç®¡ç†ç³»ç»Ÿ
npm run build
sudo systemctl reload nginx
```

## âœ… ç¬¬äº”æ­¥ï¼šéªŒè¯ä¿®å¤

```bash
# æ£€æŸ¥æ„å»ºåçš„æ–‡ä»¶
grep -r "timeout.*60000" dist/

# æ£€æŸ¥åç«¯æœåŠ¡
pm2 status
curl http://localhost:3000/api/health
```

