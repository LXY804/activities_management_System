# æœåŠ¡å™¨ç´§æ€¥ä¿®å¤ 502 é”™è¯¯

## ğŸ” 1. æ£€æŸ¥æœåŠ¡çŠ¶æ€
```bash
pm2 status
pm2 logs activities-backend --err --lines 30
```

## ğŸ”„ 2. æ¢å¤å¤‡ä»½æ–‡ä»¶ï¼ˆå¦‚æœ sed ä¿®æ”¹å‡ºé”™ï¼‰
```bash
cd /var/www/activities_management/backend/controllers
cp giftController.js.bak giftController.js
pm2 restart all --update-env
```

## ğŸš€ 3. æ­£ç¡®çš„æ–¹æ³•ï¼šä» Git æ‹‰å–æœ€æ–°ä»£ç 
```bash
cd /var/www/activities_management
git fetch origin
git reset --hard origin/main
pm2 restart all --update-env
```

## ğŸ”§ 4. å¦‚æœ Git æ‹‰å–å¤±è´¥ï¼Œæ‰‹åŠ¨ä¿®å¤ï¼ˆæ›´å®‰å…¨çš„æ–¹æ³•ï¼‰

### å…ˆæ£€æŸ¥å½“å‰ä»£ç 
```bash
cd /var/www/activities_management/backend/controllers
head -50 giftController.js | grep -E "gifts|gift_items"
```

### æ‰‹åŠ¨ç¼–è¾‘æ–‡ä»¶ï¼ˆä½¿ç”¨ nano æˆ– viï¼‰
```bash
nano giftController.js
```

éœ€è¦ä¿®æ”¹çš„åœ°æ–¹ï¼š
- ç¬¬ 48 è¡Œï¼š`FROM gifts` â†’ `FROM gift_items`
- ç¬¬ 77 è¡Œï¼š`FROM gifts` â†’ `FROM gift_items`
- ç¬¬ 157 è¡Œï¼š`FROM gifts` â†’ `FROM gift_items`
- ç¬¬ 184 è¡Œï¼š`FROM gifts` â†’ `FROM gift_items`
- ç¬¬ 236 è¡Œï¼š`FROM gifts` â†’ `FROM gift_items`
- ç¬¬ 246 è¡Œï¼š`DELETE FROM gifts` â†’ `DELETE FROM gift_items`

## âš¡ 5. å¿«é€Ÿæ¢å¤æœåŠ¡
```bash
cd /var/www/activities_management
pm2 restart all --update-env
pm2 logs activities-backend --lines 20
```

